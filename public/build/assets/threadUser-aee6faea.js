import"./bootstrap-359a5dbc.js";import"./axios-4a70c6fc.js";let o=10,a=1,r=[],s=window.location.href;s=s.split("/");s="/api/thread/user/"+s[s.length-2]+"/"+s[s.length-1];function f(){a>1&&(a--,n())}function v(){a*o<r.length&&(a++,n())}document.querySelector("#nextPage").addEventListener("click",f,!1);document.querySelector("#prevPage").addEventListener("click",v,!1);async function n(){await u();let l="";r.filter((e,i)=>{let c=(a-1)*o,d=c+o;if(i>=c&&i<d)return!0}).forEach(e=>{l+='<div class="w-full p-1 rounded-lg bg-base-200 hover:bg-base-300 cursor-pointer my-3"><div class="flex w-full"><div class="basis-10 "><a class="avatar" href="https://www.google.com"><div class="w-10 mask mask-hexagon"><img src="'+e.user[0].avatar+'" /></div></a></div><div class="flex flex-col basis-full"><div class="flex"><a href="/threads/'+e.title.replaceAll(" ","_")+"-"+e.id+'" class="flex items-center">',e.prefix.forEach(i=>{l+='<div class="badge badge-accent ml-2">'+i.content+"</div>"}),l+='<div class="ml-2 link link-hover">'+e.title+'</div></a><div class="h-full grow"><div class="w-full h-full flex justify-end" >',e.owner&&(l+='<a class="w-full h-full" href="/threads/'+e.title.replaceAll(" ","_")+"-"+e.id+'"></a><a href="/post/edit-thread/'+e.title.replaceAll(" ","_")+"-"+e.id+'" class="btn btn-xs btn-circle my-2 mx-1"><svg class="h-4 w-4 text-base" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" /></svg></a><label for="my-modal-3" class="btn btn-xs btn-circle my-2 btn-delete">x</label>'),l+='</div></div></div><div class="flex flex-row text-xs"><div class="flex items-center"><a href="#" class="ml-2 link link-hover">'+e.updated_at.substring(0,10)+'</a></div><div class="grow h-full"><a class="grow h-full block" href="/threads/'+e.title.replaceAll(" ","_")+"-"+e.id+'"></a></div><div class="flex items-center"><!-- reply-1 --><svg class="h-5 w-5 text-base mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"d="M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z" /></svg><p class="text-xs font-light">'+e.commentCount+"</p></div></div></div></div></div>"}),document.getElementById("threads").innerHTML=l;let t=document.getElementsByClassName("btn-delete");for(const e of t)e.addEventListener("click",g,!1)}console.log("hello");n();async function u(){r=(await axios.get(s)).data.data}function g(l){let t=l.target.parentElement.childNodes[0].href;t=t.split("/");let e=t[t.length-1].split("-")[1];document.getElementById("sure").onclick=()=>{console.log(e),m(e),n()}}function m(l){let t={threadId:l};axios.post("/post/delete-thread",t).then(e=>{console.log(e)}).catch(e=>{console.log(e)})}
